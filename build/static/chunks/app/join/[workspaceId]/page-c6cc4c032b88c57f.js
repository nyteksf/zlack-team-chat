(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{3706:function(e,t,n){Promise.resolve().then(n.bind(n,1671))},1620:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});let r=n(1321).qL},6540:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},2715:function(e,t,n){(()=>{var e={365:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".vi {\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  box-sizing: border-box;\n  position: absolute;\n  color: transparent;\n  background: transparent;\n  caret-color: transparent;\n  outline: none;\n  border: 0 none transparent;\n}\n\n.vi::-ms-reveal,\n.vi::-ms-clear {\n  display: none;\n}\n\n.vi::selection {\n  background: transparent;\n}\n\n/* :where() gives the styles specificity 0, which makes them overridable */\n:where(.vi__container) {\n  position: relative;\n  display: flex;\n  gap: 8px;\n  height: 50px;\n  width: 300px;\n}\n\n:where(.vi__character) {\n  height: 100%;\n  flex-grow: 1;\n  flex-basis: 0;\n  text-align: center;\n  font-size: 36px;\n  line-height: 50px;\n  color: black;\n  background-color: white;\n  border: 1px solid black;\n  cursor: default;\n  user-select: none;\n  box-sizing: border-box;\n}\n\n:where(.vi__character--inactive) {\n  color: dimgray;\n  background-color: lightgray;\n}\n\n:where(.vi__character--selected) {\n  outline: 2px solid cornflowerblue;\n  color: cornflowerblue;\n}\n",""]);let c=i},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),n&&(s[2]&&(s[1]="@media ".concat(s[2]," {").concat(s[1],"}")),s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}(n)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=(function(){return o}).apply(t,[]))||(e.exports=n)}()}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={id:t,exports:{}};return e[t](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};for(var i in(()=>{"use strict";o.r(a),o.d(a,{default:()=>g});let e=n(2265);var t=o.n(e),r=o(942),i=o.n(r),c=o(365),l=["className","type"],u=["className"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||p(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,e.forwardRef)(function(n,r){var o=n.value,a=n.length,h=void 0===a?6:a,g=n.validChars,m=void 0===g?"A-Za-z0-9":g,y=n.placeholder,b=void 0===y?"\xb7":y,x=n.autoFocus,w=void 0!==x&&x,j=n.passwordMode,k=void 0!==j&&j,S=n.passwordChar,_=void 0===S?"*":S,N=n.inputProps,A=void 0===N?{}:N,E=n.containerProps,O=void 0===E?{}:E,M=n.classNames,C=void 0===M?{}:M,P=n.onChange,F=n.onFocus,I=n.onBlur,z=n.onComplete,R=f((0,e.useState)(""),2),B=R[0],L=R[1],T=f((0,e.useState)(!1),2),D=T[0],Z=T[1],V=(0,e.useRef)(null);(0,e.useEffect)(function(){w&&V.current.focus()},[w]),(0,e.useEffect)(function(){A.disabled&&Z(!1)},[A.disabled]);var q,U=function(){V.current.focus()},W=function(){return null!=o?o:B},$=function(e){var t=W();return(t.length===e||t.length===e+1&&h===e+1)&&D},H=function(e){return W().length<e},J=function(e){return W().length>e},K=A.className,G=A.type,Q=d(A,l),X=O.className,Y=d(O,u);return t().createElement(t().Fragment,null,t().createElement("div",s({"data-testid":"container",className:i()("vi__container",C.container,X),onClick:function(){return V.current.focus()}},Y),t().createElement("input",s({"aria-label":"verification input",spellCheck:!1,value:W(),onChange:function(e){var t=e.target.value.replace(/\s/g,"");RegExp("^[".concat(m,"]{0,").concat(h,"}$")).test(t)&&(null==P||P(t),L(t),t.length===h&&(null==z||z(t)))},ref:function(e){V.current=e,"function"==typeof r?r(e):r&&(r.current=e)},className:i()("vi",K),onKeyDown:function(e){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)&&e.preventDefault()},onFocus:function(){Z(!0),null==F||F()},onBlur:function(){Z(!1),null==I||I()},onSelect:function(e){var t=e.target.value;e.target.setSelectionRange(t.length,t.length)},type:k?"password":G},Q)),((function(e){if(Array.isArray(e))return v(e)})(q=Array(h))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(q)||p(q)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,n){return t().createElement("div",{className:i()("vi__character",C.character,{"vi__character--selected":$(n),"vi__character--inactive":H(n),"vi__character--filled":J(n)},$(n)&&C.characterSelected,H(n)&&C.characterInactive,J(n)&&C.characterFilled),onClick:U,id:"field-".concat(n),"data-testid":"character-".concat(n),key:n},k&&W()[n]?_:W()[n]||b)})),t().createElement("style",{dangerouslySetInnerHTML:{__html:c.A}}))});h.displayName="VerificationInput";let g=h})(),a)t[i]=a[i];a.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})()},1671:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(7437),o=n(4438),a=n(6540),i=n(2265),c=n(2715),l=n.n(c),u=n(7648),s=n(3145),d=n(9376),f=n(3106),p=n(7266),v=n(1620);let h=()=>{let[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),c=(0,i.useMemo)(()=>"pending"===o,[o]),l=(0,i.useMemo)(()=>"success"===o,[o]),u=(0,i.useMemo)(()=>"error"===o,[o]),s=(0,i.useMemo)(()=>"settled"===o,[o]),d=(0,p.Db)(v.h.workspaces.join);return{mutate:(0,i.useCallback)(async(e,n)=>{var o,i,c;try{t(null),r(null),a("pending");let i=await d(e);return null==n||null===(o=n.onSuccess)||void 0===o||o.call(n,i),i}catch(e){if(a("error"),null==n||null===(i=n.onError)||void 0===i||i.call(n,e),null==n?void 0:n.throwError)throw e}finally{a("settled"),null==n||null===(c=n.onSettled)||void 0===c||c.call(n)}},[d]),data:e,error:n,isPending:c,isSuccess:l,isError:u,isSettled:s}},g=e=>{let{id:t}=e,n=(0,p.aM)(v.h.workspaces.getInfoById,{id:t});return{data:n,isLoading:void 0===n}};var m=n(3448),y=n(2381),b=()=>{let e=(0,d.useRouter)(),t=(0,f.m)(),n=(0,d.useSearchParams)(),c=null==n?void 0:n.toString(),p=null==c?void 0:c.slice(0,6),[v,b]=(0,i.useState)(p||""),{mutate:x,isPending:w}=h(),{data:j,isLoading:k}=g({id:t}),S=(0,i.useMemo)(()=>null==j?void 0:j.isMember,[null==j?void 0:j.isMember]),_=n=>{x({workspaceId:t,joinCode:n},{onSuccess:t=>{o.Am.success("Workspace joined"),e.replace("/workspace/".concat(t))},onError:()=>{o.Am.error("Failed to join workspace.")}})};return((0,i.useEffect)(()=>{p&&b(p)},[p]),(0,i.useEffect)(()=>{p&&!(p.length<6)&&p&&6===p.length&&_(p)},[p]),(0,i.useEffect)(()=>{S&&e.push("/workspace/".concat(t))},[S,e,t]),k)?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)(a.Z,{className:"size-6 animate-spin text-muted-foreground"})}):(0,r.jsxs)("div",{className:"h-full flex flex-col gap-y-6 items-center justify-center bg-white p-8 rounded-lg shadow-md",children:[(0,r.jsx)(s.default,{src:"/logo.png",width:60,height:60,alt:"logo"}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 items-center justify-center max-w-md",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 items-center justify-center",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold",children:["Join ",null==j?void 0:j.name]}),(0,r.jsx)("p",{className:"text-md text-muted-foreground",children:"Enter the workspace code to join."})]}),(0,r.jsx)(l(),{value:v,onChange:e=>{console.log("newValue: ",e),b(e)},onComplete:_,length:6,classNames:{container:(0,m.cn)("flex gap-x-2 w-full justify-center",w&&"opacity-50 cursor-not-allowed"),character:"uppercase h-auto w-10 rounded-md border border-gray-300 flex items-center justify-center text-lg font-semibold text-gray-800 bg-gray-100 focus:border-[#1264a3] focus:ring-2 focus:ring-[#1264a3]/20 transition-all duration-200 ease-in-out",characterInactive:"bg-muted",characterSelected:"bg-[#F9F9F9] text-[#242424]",characterFilled:"bg[#F9F9F9], text-[#242424]"},autoFocus:!0})]}),(0,r.jsx)("div",{className:"flex gap-x-4",children:(0,r.jsx)(y.z,{size:"lg",variant:"outline",asChild:!0,children:(0,r.jsx)(u.default,{href:"/",children:"Back to home"})})})]})}},2381:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(7437),o=n(2265),a=n(7053),i=n(535),c=n(3448);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",transparent:"bg-transparent hover:bg-accent/10 text-accent"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",iconSm:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:n,variant:o,size:i,asChild:u=!1,...s}=e,d=u?a.g7:"button";return(0,r.jsx)(d,{className:(0,c.cn)(l({variant:o,size:i,className:n})),ref:t,...s})});u.displayName="Button"},3106:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(9376);let o=()=>(0,r.useParams)().workspaceId},3448:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(1994),o=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}}},function(e){e.O(0,[432,317,279,644,145,648,971,117,744],function(){return e(e.s=3706)}),_N_E=e.O()}]);